<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Fusion Challenge üç∞‚ú®</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&family=Kodchasan:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fff5f8; /* Soft Pink */
            --card-bg: #ffffff;
            --primary: #ff80ab; /* Hot Pink Pastel */
            --secondary: #b39ddb; /* Soft Purple */
            --accent: #ffcc80; /* Soft Orange */
            --text: #6d4c41; /* Brown Text */
            --border-radius: 20px;
            --shadow: 0 8px 20px rgba(255, 128, 171, 0.2);
        }

        body {
            font-family: 'Mali', cursive;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(#ff80ab 10%, transparent 11%),
                radial-gradient(#b39ddb 10%, transparent 11%);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
            color: var(--text);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }

        h1 {
            background: #fff;
            color: var(--primary);
            font-size: 2.5rem;
            padding: 15px 50px;
            border-radius: 50px;
            display: inline-block;
            border: 5px solid #ffecb3;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            position: relative;
            text-shadow: 2px 2px 0 #fff3e0;
        }

        h1::before, h1::after {
            content: "üßÅ";
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
        }
        h1::before { left: 15px; }
        h1::after { right: 15px; content: "üç©"; }

        /* Grid Layout */
        .grid-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        /* Card Style */
        .slot-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 15px;
            border: 3px solid #fff;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
        }

        .slot-card:hover { transform: translateY(-5px); border-color: var(--secondary); }

        .slot-card.locked {
            border: 3px solid var(--primary);
            background-color: #fff0f5;
        }

        /* Header in Card */
        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .label {
            font-weight: 700;
            color: #9fa8da;
            font-size: 1rem;
            text-align: left;
        }

        /* Lock Button */
        .lock-btn {
            background: #f8f8f8;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }
        .slot-card.locked .lock-btn { background: var(--primary); color: white; }

        /* Dropdown */
        select {
            width: 100%;
            padding: 8px;
            border: 2px solid #eee;
            border-radius: 12px;
            font-family: 'Kodchasan', sans-serif;
            color: var(--text);
            background-color: #fafafa;
            outline: none;
            cursor: pointer;
            font-size: 0.9rem;
        }
        select:focus { border-color: var(--secondary); }

        /* Display Box */
        .display-value {
            background-color: #e0f7fa;
            border-radius: 15px;
            padding: 12px;
            font-weight: bold;
            color: #006064;
            min-height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            text-align: center;
            border: 2px dashed #b2ebf2;
            word-break: break-word;
        }

        .slot-card.locked .display-value {
            background-color: #fce4ec;
            border-color: #f8bbd0;
            color: #c2185b;
        }

        /* Result & Copy Area */
        .result-box {
            background: #fff;
            border-radius: 30px;
            padding: 25px;
            border: 4px solid var(--secondary);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        #finalSentence {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #5d4037;
            margin-bottom: 15px;
        }

        .highlight {
            background: #fff9c4;
            padding: 2px 8px;
            border-radius: 5px;
            color: #e65100;
            font-weight: bold;
        }

        #copyArea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #b39ddb;
            font-family: 'Kodchasan', sans-serif;
            font-size: 0.95rem;
            color: #666;
            resize: none;
            background: #f3e5f5;
            display: none;
            margin-top: 10px;
            box-sizing: border-box;
        }
        #copyArea:focus { outline: none; border-color: var(--primary); }

        /* Buttons */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .main-btn {
            padding: 12px 35px;
            border: none;
            border-radius: 50px;
            font-family: 'Mali', cursive;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
        }
        .main-btn:active { transform: translateY(4px); box-shadow: none; }

        .spin-btn { background: linear-gradient(to right, #ff80ab, #ff4081); }
        .spin-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 0 rgba(255, 64, 129, 0.3); }

        .reset-btn { background: #eeeeee; color: #757575; }
        .reset-btn:hover { background: #e0e0e0; }
        
        .copy-btn { 
            background: linear-gradient(to right, #42a5f5, #1e88e5); 
            display: none; 
        }
        .copy-btn:hover { transform: translateY(-3px); }

        /* Toast */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 16px;
            position: fixed;
            z-index: 99;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.5s, bottom 0.5s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }

    </style>
</head>
<body>

    <div class="container">
        <h1>üåé Global Dessert Generator üç≠</h1>

        <div class="grid-wrapper" id="gridContainer">
            </div>

        <div class="result-box">
            <div id="finalSentence">‚ú® ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b style="color:#ff80ab">"‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô"</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à! ‚ú®</div>
            <textarea id="copyArea" placeholder="‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
        </div>

        <div class="btn-group">
            <button class="main-btn reset-btn" onclick="unlockAll()">üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å</button>
            <button class="main-btn spin-btn" onclick="spinAll()">üé≤ ‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô (Spin)</button>
            <button class="main-btn copy-btn" id="btnCopy" onclick="copyText()">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå</button>
        </div>
    </div>

    <div id="toast">‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ô‡∏∏‡∏Å‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ç‡∏ô‡∏°‡∏ô‡πâ‡∏≤ üë©‚Äçüç≥</div>

    <script>
        // --- DATA ---
        // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤‡∏ß‡∏°‡∏≤‡∏Å ‡∏à‡∏∞‡∏ï‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• ‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏™‡πà‡∏Ñ‡∏£‡∏ö 500+ ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
        
        const countryList = [
            "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria", "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo", "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czechia", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Eritrea", "Estonia", "Eswatini", "Ethiopia", "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger", "Nigeria", "North Korea", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent", "Samoa", "San Marino", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Korea", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Tajikistan", "Tanzania", "Thailand", "Timor-Leste", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu", "Uganda", "Ukraine", "UAE", "UK", "USA", "Uruguay", "Uzbekistan", "Vanuatu", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe", "Vatican City", "Palestine"
        ];

        const ingredientList = [
            "‡πÅ‡∏õ‡πâ‡∏á‡∏™‡∏≤‡∏•‡∏µ‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå", "‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏Ñ‡πâ‡∏Å", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á", "‡πÅ‡∏õ‡πâ‡∏á‡πÇ‡∏Æ‡∏•‡∏ß‡∏µ‡∏ï", "‡πÅ‡∏õ‡πâ‡∏á‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå", "‡πÅ‡∏õ‡πâ‡∏á‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏à‡πâ‡∏≤", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î", "‡πÅ‡∏õ‡πâ‡∏á‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á", "‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏¢‡∏≤‡∏¢‡∏°‡πà‡∏≠‡∏°", "‡πÅ‡∏õ‡πâ‡∏á‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏≠‡πä‡∏ï", "‡πÅ‡∏õ‡πâ‡∏á‡∏ö‡∏±‡∏Ñ‡∏ß‡∏µ‡∏ï", "‡πÅ‡∏õ‡πâ‡∏á‡∏°‡∏±‡∏ô‡∏ù‡∏£‡∏±‡πà‡∏á", "‡πÅ‡∏õ‡πâ‡∏á‡∏°‡∏±‡∏ô‡∏°‡πà‡∏ß‡∏á", "‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏ß‡∏¢", 
            "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢‡∏Ç‡∏≤‡∏ß", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢‡πÅ‡∏î‡∏á", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÑ‡∏≠‡∏ã‡∏¥‡πà‡∏á", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏≠‡πâ‡∏≠‡∏¢", "‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏°‡πÄ‡∏õ‡∏¥‡∏•", "‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á", "‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡∏î‡∏≠‡∏Å‡∏•‡∏≥‡πÑ‡∏¢", "‡∏Ñ‡∏≤‡∏£‡∏≤‡πÄ‡∏°‡∏•‡∏ã‡∏≠‡∏™", "‡∏´‡∏ç‡πâ‡∏≤‡∏´‡∏ß‡∏≤‡∏ô", "‡∏ô‡∏°‡∏Ç‡πâ‡∏ô‡∏´‡∏ß‡∏≤‡∏ô", "‡∏ô‡∏°‡∏™‡∏î", "‡∏ß‡∏¥‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏Ñ‡∏£‡∏µ‡∏°", "‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï", "‡∏Ñ‡∏£‡∏µ‡∏°‡∏ä‡∏µ‡∏™", "‡∏°‡∏≤‡∏™‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏õ‡πÄ‡∏ô‡πà", "‡∏£‡∏¥‡∏Ñ‡∏≠‡∏ï‡∏ï‡πâ‡∏≤", "‡πÄ‡∏ô‡∏¢‡∏à‡∏∑‡∏î", "‡πÄ‡∏ô‡∏¢‡πÄ‡∏Ñ‡πá‡∏°", "‡∏Å‡∏∞‡∏ó‡∏¥", "‡∏ô‡∏°‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", "‡∏ô‡∏°‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå", 
            "‡πÑ‡∏Ç‡πà‡πÑ‡∏Å‡πà", "‡πÑ‡∏Ç‡πà‡πÅ‡∏î‡∏á", "‡πÑ‡∏Ç‡πà‡∏Ç‡∏≤‡∏ß", "‡πÑ‡∏Ç‡πà‡πÄ‡∏õ‡πá‡∏î", "‡πÄ‡∏à‡∏•‡∏≤‡∏ï‡∏¥‡∏ô", "‡∏ú‡∏á‡∏ß‡∏∏‡πâ‡∏ô", "‡πÄ‡∏ö‡∏Å‡∏Å‡∏¥‡πâ‡∏á‡πÇ‡∏ã‡∏î‡∏≤", "‡∏ú‡∏á‡∏ü‡∏π", "‡∏¢‡∏µ‡∏™‡∏ï‡πå", "‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä", "‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏°‡∏∞‡∏Å‡∏≠‡∏Å", "‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß", "‡πÄ‡∏ô‡∏¢‡πÇ‡∏Å‡πÇ‡∏Å‡πâ", 
            "‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏ú‡∏á", "‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏î‡∏≥", "‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏ô‡∏°", "‡πÑ‡∏ß‡∏ó‡πå‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï", "‡∏ô‡∏π‡πÄ‡∏ó‡∏•‡∏•‡πà‡∏≤", "‡∏ß‡∏≤‡∏ô‡∏¥‡∏•‡∏•‡∏≤", "‡∏≠‡∏ö‡πÄ‡∏ä‡∏¢", "‡∏•‡∏π‡∏Å‡∏à‡∏±‡∏ô‡∏ó‡∏ô‡πå‡πÄ‡∏ó‡∏®", "‡∏Å‡∏≤‡∏ô‡∏û‡∏•‡∏π", "‡∏Ç‡∏¥‡∏á", "‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏±‡∏ó‡∏â‡∏∞", "‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢", "‡∏ä‡∏≤‡πÄ‡∏≠‡∏¥‡∏£‡πå‡∏•‡πÄ‡∏Å‡∏£‡∏¢‡πå", "‡∏Å‡∏≤‡πÅ‡∏ü", 
            "‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå", "‡πÄ‡∏Æ‡πÄ‡∏ã‡∏•‡∏ô‡∏±‡∏ó", "‡∏ß‡∏≠‡∏•‡∏ô‡∏±‡∏ó", "‡∏û‡∏µ‡πÅ‡∏Ñ‡∏ô", "‡πÅ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡πÄ‡∏î‡πÄ‡∏°‡∏µ‡∏¢", "‡πÄ‡∏°‡πá‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏´‡∏¥‡∏°‡∏û‡∏≤‡∏ô‡∏ï‡πå", "‡∏û‡∏¥‡∏™‡∏ï‡∏≤‡∏ä‡∏¥‡πÇ‡∏≠", "‡∏á‡∏≤‡∏Ç‡∏≤‡∏ß", "‡∏á‡∏≤‡∏î‡∏≥", "‡πÄ‡∏°‡∏•‡πá‡∏î‡∏ó‡∏≤‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô", "‡πÄ‡∏°‡∏•‡πá‡∏î‡πÄ‡∏à‡∏µ‡∏¢", 
            "‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡∏£‡∏≤‡∏™‡∏õ‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡πÄ‡∏ä‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡∏•", "‡πÅ‡∏û‡∏£‡πå", "‡∏û‡∏µ‡∏ä", "‡∏™‡πâ‡∏°", "‡πÄ‡∏•‡∏°‡∏≠‡∏ô", "‡πÑ‡∏•‡∏°‡πå", "‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î", "‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á", "‡∏Å‡∏•‡πâ‡∏ß‡∏¢", "‡πÅ‡∏ï‡∏á‡πÇ‡∏°", "‡πÄ‡∏°‡∏•‡∏≠‡∏ô", "‡πÄ‡∏™‡∏≤‡∏ß‡∏£‡∏™", "‡∏•‡∏¥‡πâ‡∏ô‡∏à‡∏µ‡πà", "‡∏•‡∏≥‡πÑ‡∏¢", "‡∏°‡∏±‡∏á‡∏Ñ‡∏∏‡∏î", "‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏≠‡πà‡∏≠‡∏ô", "‡∏•‡∏π‡∏Å‡πÄ‡∏Å‡∏î", "‡πÅ‡∏Ñ‡∏£‡∏ô‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πÅ‡∏´‡πâ‡∏á", "‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°", 
            "‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß", "‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏≠‡πä‡∏ï", "‡∏Å‡∏£‡∏≤‡πÇ‡∏ô‡∏•‡πà‡∏≤", "‡∏ñ‡∏±‡πà‡∏ß‡πÅ‡∏î‡∏á‡∏Å‡∏ß‡∏ô", "‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß", "‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ", "‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏Ñ‡∏±‡πà‡∏ß", "‡∏°‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏•‡πÇ‡∏•‡∏ß‡πå", "‡∏ó‡∏≠‡∏á‡∏´‡∏¢‡∏¥‡∏ö/‡∏ó‡∏≠‡∏á‡∏´‡∏¢‡∏≠‡∏î (‡∏ü‡∏¥‡∏ß‡∏ä‡∏±‡πà‡∏ô)", "‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏£‡∏±‡∏°", "‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏Å‡∏≤‡πÅ‡∏ü"
        ];
        // ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ô‡∏µ‡πâ ‡πÅ‡∏ï‡πà‡∏ï‡∏±‡∏î‡∏ó‡∏≠‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡πÅ‡∏ï‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Paste ‡∏ó‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏¥‡∏™‡∏ï‡πå 500 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡πá‡∏°‡πÜ ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö)

        const colors = [
            "Pastel Wash (‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏•‡∏•‡∏∞‡∏°‡∏∏‡∏ô)", "Neon Pop (‡∏™‡∏µ‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏ô)", "Earth Tone (‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•-‡∏Ñ‡∏£‡∏µ‡∏°-‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)", "Jewel Tone (‡πÅ‡∏î‡∏á‡πÑ‡∏ß‡∏ô‡πå/‡∏°‡∏£‡∏Å‡∏ï)", "Ombre / Gradient (‡πÑ‡∏•‡πà‡πÄ‡∏â‡∏î‡∏™‡∏µ)", "Duotone Minimal (2 ‡∏™‡∏µ‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•)", "Black & Gold (‡∏î‡∏≥-‡∏ó‡∏≠‡∏á‡∏´‡∏£‡∏π)", "Milk Tea Palette (‡∏Ñ‡∏£‡∏µ‡∏°‡∏ô‡∏°‡∏ä‡∏≤+‡∏Ñ‡∏≤‡∏£‡∏≤‡πÄ‡∏°‡∏•)", "Spring/Summer (‡∏™‡∏î‡πÉ‡∏™)", "Autumn/Winter (‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô/‡πÄ‡∏¢‡πá‡∏ô)", "Day Mood (‡∏™‡∏ß‡πà‡∏≤‡∏á)", "Night Mood (‡∏•‡∏∂‡∏Å‡∏•‡∏±‡∏ö)"
        ];

        const shapes = [
            "Geometric (‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï)", "Asymmetrical (‡πÑ‡∏°‡πà‡∏™‡∏°‡∏°‡∏≤‡∏ï‡∏£)", "Stacking / Tower (‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢)", "Layer Reveal (‡πÇ‡∏ä‡∏ß‡πå‡∏ä‡∏±‡πâ‡∏ô)", "Ring / Donut (‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô)", "Spiral / Swirl (‡∏Å‡πâ‡∏ô‡∏´‡∏≠‡∏¢)", "Grid / Checkerboard (‡∏ï‡∏≤‡∏£‡∏≤‡∏á)", "Dip & Drag (‡∏õ‡∏≤‡∏î‡∏ã‡∏≠‡∏™)", "Smear Art (‡∏õ‡πâ‡∏≤‡∏¢‡∏ã‡∏≠‡∏™‡∏®‡∏¥‡∏•‡∏õ‡πå)"
        ];

        const techniques = [
            "Dusting (‡πÇ‡∏£‡∏¢‡∏ú‡∏á)", "Shards (‡πÅ‡∏ú‡πà‡∏ô‡∏Å‡∏£‡∏≠‡∏ö)", "Tuile / Lace (‡∏•‡∏π‡∏Å‡πÑ‡∏°‡πâ‡∏Å‡∏£‡∏≠‡∏ö)", "Edible Flowers (‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏Å‡∏¥‡∏ô‡πÑ‡∏î‡πâ)", "Gold/Silver Leaf (‡πÅ‡∏ú‡πà‡∏ô‡∏ó‡∏≠‡∏á/‡πÄ‡∏á‡∏¥‡∏ô)", "Pearls & Caviar (‡πÄ‡∏°‡πá‡∏î‡∏ã‡∏≠‡∏™)", "Mirror Glaze (‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡πÄ‡∏á‡∏≤)", "Drip Effect (‡∏ã‡∏≠‡∏™‡πÑ‡∏´‡∏•)", "Torch Finish (‡πÄ‡∏ö‡∏¥‡∏£‡πå‡∏ô‡πÑ‡∏ü)", "Snow Effect (‡∏´‡∏¥‡∏°‡∏∞)"
        ];

        const plates = [
            "Slate / Stone (‡∏à‡∏≤‡∏ô‡∏´‡∏¥‡∏ô)", "Wood Board (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏á‡πÑ‡∏°‡πâ)", "Glass Plate (‡∏à‡∏≤‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡πÉ‡∏™)", "Matte Black (‡∏î‡∏≥‡∏î‡πâ‡∏≤‡∏ô)", "Vintage Floral (‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏à)", "Bento Box (‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏ö‡∏ô‡πÇ‡∏ï‡∏∞)", "Jar (‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÉ‡∏ô‡πÇ‡∏´‡∏•)", "Skillet (‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡∏£‡πâ‡∏≠‡∏ô)", "Banana Leaf (‡πÉ‡∏ö‡∏ï‡∏≠‡∏á)", "Paper Wrap (‡∏´‡πà‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©)"
        ];

        // UI Config
        const config = [
            { id: "country", label: "üó∫Ô∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö (Origin)", data: countryList },
            { id: "ing1", label: "ü•£ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å 1 (Mystery 1)", data: ingredientList },
            { id: "ing2", label: "üç´ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å 2 (Mystery 2)", data: ingredientList },
            { id: "ing3", label: "üçì ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å 3 (Mystery 3)", data: ingredientList },
            { id: "color", label: "üé® ‡πÇ‡∏ó‡∏ô‡∏™‡∏µ (Color/Mood)", data: colors },
            { id: "shape", label: "üìê ‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á (Composition)", data: shapes },
            { id: "tech", label: "‚ú® ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (Garnish)", data: techniques },
            { id: "plate", label: "üçΩÔ∏è ‡∏†‡∏≤‡∏ä‡∏ô‡∏∞ (Plate)", data: plates }
        ];

        let state = {};

        // Init App
        function init() {
            const container = document.getElementById('gridContainer');
            config.forEach(cfg => {
                state[cfg.id] = { locked: false, value: "..." };

                const card = document.createElement('div');
                card.className = "slot-card";
                card.id = `card-${cfg.id}`;
                
                // Dropdown options (limit to show only random + first 50 items to prevent lag in DOM, but spin uses full list)
                // For smoother UI, we will just put "Random" in select initially or a subset.
                // Let's use standard select logic but keep it simple.
                
                card.innerHTML = `
                    <div class="header-row">
                        <span class="label">${cfg.label}</span>
                        <button class="lock-btn" id="lock-${cfg.id}" onclick="toggleLock('${cfg.id}')" title="‡∏•‡πá‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ">üîì</button>
                    </div>
                    <select id="select-${cfg.id}" onchange="handleSelect('${cfg.id}')">
                        <option value="random">üé≤ ‡∏™‡∏∏‡πà‡∏° (Random)</option>
                         <option disabled>--- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏≠‡∏á (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á) ---</option>
                        ${cfg.data.slice(0, 50).map(item => `<option value="${item}">${item}</option>`).join('')}
                    </select>
                    <div class="display-value" id="disp-${cfg.id}">...</div>
                `;
                container.appendChild(card);
            });
        }

        // Toggle Lock
        function toggleLock(id) {
            state[id].locked = !state[id].locked;
            updateLockUI(id);
        }

        function updateLockUI(id) {
            const btn = document.getElementById(`lock-${id}`);
            const card = document.getElementById(`card-${id}`);
            const select = document.getElementById(`select-${id}`);

            if (state[id].locked) {
                btn.innerText = "üîí";
                card.classList.add('locked');
                if (select.value === 'random' && state[id].value === '...') {
                     const pool = config.find(c => c.id === id).data;
                     const randomVal = pool[Math.floor(Math.random() * pool.length)];
                     state[id].value = randomVal;
                     document.getElementById(`disp-${id}`).innerText = randomVal;
                }
            } else {
                btn.innerText = "üîì";
                card.classList.remove('locked');
            }
        }

        function handleSelect(id) {
            const select = document.getElementById(`select-${id}`);
            const display = document.getElementById(`disp-${id}`);
            const val = select.value;

            if (val !== "random") {
                state[id].value = val;
                display.innerText = val;
                if (!state[id].locked) {
                    state[id].locked = true;
                    updateLockUI(id);
                }
            } else {
                if (state[id].locked) {
                    state[id].locked = false;
                    updateLockUI(id);
                }
                display.innerText = "...";
                state[id].value = "...";
            }
        }

        function unlockAll() {
            config.forEach(cfg => {
                if(state[cfg.id].locked) {
                    state[cfg.id].locked = false;
                    updateLockUI(cfg.id);
                }
                document.getElementById(`select-${cfg.id}`).value = "random";
            });
        }

        // Spin Logic
        function spinAll() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = true;
            btn.innerHTML = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏ö‡∏Ç‡∏ô‡∏°...";
            
            document.getElementById('btnCopy').style.display = 'none';
            document.getElementById('copyArea').style.display = 'none';
            document.getElementById('finalSentence').style.display = 'block';

            let activeSlots = config.filter(cfg => !state[cfg.id].locked);
            if (activeSlots.length === 0) {
                finalizeSpin();
                return;
            }

            config.forEach((cfg, index) => {
                if (state[cfg.id].locked) return;

                const display = document.getElementById(`disp-${cfg.id}`);
                const pool = cfg.data;
                let counter = 0;
                // Cascading stop effect
                let stopThreshold = 10 + (index * 3); 

                const interval = setInterval(() => {
                    display.innerText = pool[Math.floor(Math.random() * pool.length)];
                    counter++;
                    if (counter > stopThreshold) {
                        clearInterval(interval);
                        const finalVal = pool[Math.floor(Math.random() * pool.length)];
                        display.innerText = finalVal;
                        state[cfg.id].value = finalVal;
                    }
                }, 50);
            });

            setTimeout(() => finalizeSpin(), 50 * (10 + (config.length * 3)) + 300);
        }

        function finalizeSpin() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = false;
            btn.innerHTML = "üé≤ ‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô (Spin)";
            generateResult();
        }

        function generateResult() {
            const v = {};
            config.forEach(cfg => v[cfg.id] = state[cfg.id].value === "..." ? "‡∏™‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô" : state[cfg.id].value);

            const sentenceHtml = `
                üç∞ <b>‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡∏ô‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ:</b> ‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡∏à‡∏≤‡∏Å <span class="highlight">${v.country}</span><br>
                üõí <b>Mystery Basket:</b> <span class="highlight">${v.ing1}</span> + <span class="highlight">${v.ing2}</span> + <span class="highlight">${v.ing3}</span><br>
                üé® <b>Mood & Tone:</b> <span class="highlight">${v.color}</span> ‡πÇ‡∏î‡∏¢‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡πÅ‡∏ö‡∏ö <span class="highlight">${v.shape}</span><br>
                ‚ú® <b>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©:</b> ‡πÉ‡∏ä‡πâ <span class="highlight">${v.tech}</span> ‡∏ö‡∏ô <span class="highlight">${v.plate}</span>
            `;

            document.getElementById('finalSentence').innerHTML = sentenceHtml;

            // Prepare Copy Text
            const textToCopy = `üßÅ Global Dessert Challenge üç©\n\n` +
                `üó∫Ô∏è Origin: ${v.country}\n` +
                `ü•£ Ingredients: ${v.ing1}, ${v.ing2}, ${v.ing3}\n` +
                `üé® Palette: ${v.color}\n` +
                `üìê Shape: ${v.shape}\n` +
                `‚ú® Garnish: ${v.tech}\n` +
                `üçΩÔ∏è Plate: ${v.plate}\n\n` +
                `#SweetFusion #DessertChallenge #BakerLife`;

            const copyArea = document.getElementById('copyArea');
            copyArea.value = textToCopy;
            copyArea.style.display = 'block';
            document.getElementById('btnCopy').style.display = 'flex';
        }

        function copyText() {
            const copyArea = document.getElementById("copyArea");
            copyArea.select();
            copyArea.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyArea.value).then(() => {
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById("toast");
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // Start
        init();

    </script>
</body>
</html>
