<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Dreams Creator üç∞‚ú®</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&family=Kodchasan:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fff5e6; /* Creamy Peach */
            --card-bg: #ffffff;
            --primary: #ffadad; /* Pastel Red */
            --secondary: #ffd6a5; /* Pastel Orange */
            --accent: #9bf6ff; /* Pastel Blue */
            --text: #845ec2; /* Soft Purple */
            --border-radius: 20px;
            --shadow: 0 8px 15px rgba(255, 173, 173, 0.3);
        }

        body {
            font-family: 'Mali', cursive;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(#ffadad 10%, transparent 11%),
                radial-gradient(#ffd6a5 10%, transparent 11%);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
            color: var(--text);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            text-align: center;
        }

        h1 {
            background: #fff;
            color: #ff9aa2;
            font-size: 2.2rem;
            padding: 20px 40px;
            border-radius: 50px;
            display: inline-block;
            border: 5px solid #ffdac1;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            position: relative;
        }

        h1::after {
            content: "üßÅ";
            position: absolute;
            top: -15px;
            right: -10px;
            font-size: 2.5rem;
            transform: rotate(15deg);
        }

        .grid-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Card Style */
        .slot-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 15px 20px;
            border: 3px solid #fff;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
        }

        .slot-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        
        .slot-card.locked {
            border: 3px solid #ffadad;
            background-color: #fff0f0;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .label {
            font-weight: 700;
            color: #ff9aa2;
            font-size: 1.1rem;
        }

        .lock-btn {
            background: #f4f4f4;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            transition: 0.2s;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .slot-card.locked .lock-btn { background: #ffadad; color: white; }

        .display-value {
            background-color: #e0fbfc;
            border-radius: 15px;
            padding: 15px;
            font-weight: bold;
            color: #5e60ce;
            min-height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.05rem;
            border: 2px dashed #98f5e1;
            word-break: break-word;
        }

        .slot-card.locked .display-value {
            background-color: #ffe5d9;
            border-color: #ffcad4;
            color: #d62828;
        }

        /* Result Area */
        .result-box {
            background: #fff;
            border-radius: 30px;
            padding: 30px;
            border: 4px solid var(--secondary);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        #finalSentence {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #6c757d;
            margin-bottom: 15px;
        }

        .highlight {
            background: linear-gradient(120deg, #fdffb6 0%, #fdffb6 100%);
            padding: 0 5px;
            border-radius: 5px;
            color: #ff6b6b;
            font-weight: bold;
        }

        #copyArea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #aec6cf;
            font-family: 'Kodchasan', sans-serif;
            font-size: 0.95rem;
            color: #666;
            resize: none;
            background: #f9fcff;
            display: none;
            margin-top: 10px;
        }
        #copyArea:focus { outline: none; border-color: var(--primary); }

        /* Buttons */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .main-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-family: 'Mali', cursive;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .main-btn:active { transform: translateY(4px); box-shadow: none; }

        .spin-btn { background: linear-gradient(to right, #ff9aa2, #ffb7b2); }
        .spin-btn:hover { transform: translateY(-3px); box-shadow: 0 7px 0 rgba(255, 154, 162, 0.4); }

        .reset-btn { background: #e2ece9; color: #888; }
        .reset-btn:hover { background: #d1dfdb; }

        .copy-btn { 
            background: linear-gradient(to right, #a0c4ff, #bdb2ff); 
            display: none; 
        }
        .copy-btn:hover { transform: translateY(-3px); }

        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #ffb7b2;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.5s, bottom 0.5s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }

    </style>
</head>
<body>

    <div class="container">
        <h1>üç∞ Sweet Dreams Creator ‚ú®</h1>

        <div class="grid-wrapper" id="gridContainer">
            </div>

        <div class="result-box">
            <div id="finalSentence">‚ú® ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b style="color:#ff9aa2">"‡πÄ‡∏™‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô"</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∏‡∏á! ‚ú®</div>
            <textarea id="copyArea" placeholder="‡∏™‡∏π‡∏ï‡∏£‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
        </div>

        <div class="btn-group">
            <button class="main-btn reset-btn" onclick="unlockAll()">üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å</button>
            <button class="main-btn spin-btn" onclick="spinAll()">ü™Ñ ‡πÄ‡∏™‡∏Å‡πÄ‡∏°‡∏ô‡∏π (Spin)</button>
            <button class="main-btn copy-btn" id="btnCopy" onclick="copyText()">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏π‡∏ï‡∏£</button>
        </div>
    </div>

    <div id="toast">‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏ô‡∏∞‡∏Ñ‡πâ‡∏≤ üòã</div>

    <script>
        // --- 1. PREPARING THE DATA --- 
        // ‡πÅ‡∏¢‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ "‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á" (Combinable Safe Logic)
        
        const data = {
            country: [
                "France", "Japan", "Italy", "Thailand", "USA", "United Kingdom", "Turkey", "India", "China", "Korea", "Mexico", "Spain", "Germany", "Austria", "Belgium", "Australia", "Brazil", "Vietnam", "Indonesia", "Portugal", "Sweden", "Egypt", "Morocco", "Argentina", "New Zealand", "Switzerland", "Greece", "Peru", "Philippines", "Russia", "Singapore"
            ],
            
            base: [ // ‡πÅ‡∏õ‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ê‡∏≤‡∏ô
                "‡πÅ‡∏õ‡πâ‡∏á‡∏™‡∏≤‡∏•‡∏µ‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå", "‡πÅ‡∏õ‡πâ‡∏á‡∏™‡∏≤‡∏•‡∏µ‡∏ó‡∏≥‡πÄ‡∏Ñ‡πâ‡∏Å", "‡πÅ‡∏õ‡πâ‡∏á‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏à‡πâ‡∏≤", "‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß", "‡πÅ‡∏õ‡πâ‡∏á‡∏û‡∏±‡∏ü/‡∏û‡∏≤‡∏¢", "‡πÄ‡∏Å‡∏•‡πá‡∏î‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡∏ö‡∏î", "‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ", "‡πÅ‡∏õ‡πâ‡∏á‡∏ä‡∏π‡∏ß‡πå (Choux)", "‡πÄ‡∏°‡∏≠‡πÅ‡∏£‡πá‡∏á‡∏Å‡πå (‡πÑ‡∏Ç‡πà‡∏Ç‡∏≤‡∏ß)", "‡∏ö‡∏¥‡∏™‡∏Å‡∏¥‡∏ï‡∏ö‡∏î", "‡πÅ‡∏õ‡πâ‡∏á‡∏ó‡∏≤‡∏£‡πå‡∏ï", "‡πÅ‡∏õ‡πâ‡∏á‡πÇ‡∏î‡∏ô‡∏±‡∏ó", "‡πÅ‡∏õ‡πâ‡∏á‡∏ß‡∏≤‡∏ü‡πÄ‡∏ü‡∏¥‡∏•", "‡πÅ‡∏õ‡πâ‡∏á‡πÅ‡∏û‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å", "‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß‡∏°‡∏π‡∏ô", "‡∏™‡∏≤‡∏Ñ‡∏π", "‡πÄ‡∏à‡∏•‡∏≤‡∏ï‡∏¥‡∏ô/‡∏ß‡∏∏‡πâ‡∏ô", "‡∏Ñ‡∏£‡∏±‡∏ß‡∏ã‡∏≠‡∏á‡∏ï‡πå", "‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡∏µ‡πà", "‡∏ä‡∏µ‡∏™‡πÄ‡∏Ñ‡πâ‡∏Å‡πÄ‡∏ö‡∏™", "‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡∏ö‡∏£‡∏¥‡∏¢‡∏≠‡∏ä", "‡πÅ‡∏õ‡πâ‡∏á‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß", "‡πÅ‡∏õ‡πâ‡∏á‡∏°‡∏±‡∏ô‡∏°‡πà‡∏ß‡∏á", "‡πÅ‡∏õ‡πâ‡∏á‡πÇ‡∏°‡∏à‡∏¥"
            ],
            
            liquid_fat: [ // ‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡πÅ‡∏•‡∏∞‡πÑ‡∏Ç‡∏°‡∏±‡∏ô (Binder)
                "‡∏ô‡∏°‡∏™‡∏î", "‡∏Å‡∏∞‡∏ó‡∏¥", "‡∏Ñ‡∏£‡∏µ‡∏°‡∏™‡∏î (Heavy Cream)", "‡∏Ñ‡∏£‡∏µ‡∏°‡∏ä‡∏µ‡∏™", "‡∏°‡∏≤‡∏™‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏õ‡πÄ‡∏ô‡πà", "‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï", "‡πÄ‡∏ô‡∏¢‡∏™‡∏î", "‡∏ô‡∏°‡∏Ç‡πâ‡∏ô‡∏´‡∏ß‡∏≤‡∏ô", "‡∏ô‡πâ‡∏≥‡∏•‡∏≠‡∏¢‡∏î‡∏≠‡∏Å‡∏°‡∏∞‡∏•‡∏¥", "‡∏ô‡πâ‡∏≥‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß", "‡∏ô‡∏°‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå", "‡∏ô‡∏°‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", "‡∏ã‡∏≤‡∏ß‡∏£‡πå‡∏Ñ‡∏£‡∏µ‡∏°", "‡πÑ‡∏ß‡∏ó‡πå‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏•‡∏∞‡∏•‡∏≤‡∏¢", "‡∏î‡∏≤‡∏£‡πå‡∏Å‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏•‡∏∞‡∏•‡∏≤‡∏¢", "‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á", "‡∏Ñ‡∏≤‡∏£‡∏≤‡πÄ‡∏°‡∏•‡∏ã‡∏≠‡∏™", "‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏°‡πÄ‡∏õ‡∏¥‡∏•", "‡∏ô‡∏°‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏≠‡πä‡∏ï", "‡∏ß‡∏¥‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏Ñ‡∏£‡∏µ‡∏°"
            ],

            flavor_main: [ // ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å (Star Ingredient)
                "‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡∏£‡∏≤‡∏™‡∏õ‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ", "‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏™‡∏∏‡∏Å", "‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏´‡∏≠‡∏°", "‡∏û‡∏µ‡∏ä/‡∏•‡∏π‡∏Å‡∏ó‡πâ‡∏≠", "‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡∏•", "‡πÄ‡∏•‡∏°‡∏≠‡∏ô/‡∏°‡∏∞‡∏ô‡∏≤‡∏ß", "‡∏™‡πâ‡∏°‡∏¢‡∏π‡∏™‡∏∏", "‡∏°‡∏±‡∏ó‡∏â‡∏∞ (‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)", "‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢", "‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏≠‡∏™‡πÄ‡∏û‡∏£‡∏™‡πÇ‡∏ã", "‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô", "‡∏ß‡∏≤‡∏ô‡∏¥‡∏•‡∏•‡∏≤‡∏ù‡∏±‡∏Å", "‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå", "‡πÅ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡πÄ‡∏î‡πÄ‡∏°‡∏µ‡∏¢", "‡∏ñ‡∏±‡πà‡∏ß‡∏û‡∏¥‡∏™‡∏ï‡∏≤‡∏ä‡∏¥‡πÇ‡∏≠", "‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏Ñ‡∏±‡πà‡∏ß", "‡∏°‡∏±‡∏ô‡∏°‡πà‡∏ß‡∏á", "‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å", "‡πÑ‡∏Ç‡πà‡πÄ‡∏Ñ‡πá‡∏°", "‡∏ä‡∏≤‡πÄ‡∏≠‡∏¥‡∏£‡πå‡∏•‡πÄ‡∏Å‡∏£‡∏¢‡πå", "‡∏î‡∏≠‡∏Å‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö", "‡πÉ‡∏ö‡πÄ‡∏ï‡∏¢", "‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏°‡∏¥‡∏ô‡∏ï‡πå", "‡∏Ñ‡∏≤‡∏£‡∏≤‡πÄ‡∏°‡∏•", "‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡∏õ‡πà‡∏≤"
            ],

            add_in: [ // ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏° (Texture/Unique Taste)
                "‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏ä‡∏¥‡∏û", "‡∏•‡∏π‡∏Å‡πÄ‡∏Å‡∏î/‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÅ‡∏´‡πâ‡∏á", "‡πÄ‡∏¢‡∏•‡∏•‡∏µ‡πà‡∏ú‡∏•‡πÑ‡∏°‡πâ", "‡∏°‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏•‡πÇ‡∏•‡∏ß‡πå", "‡πÇ‡∏≠‡∏£‡∏µ‡πÇ‡∏≠‡∏ö‡∏î", "‡∏ó‡∏≠‡∏á‡∏°‡πâ‡∏ß‡∏ô‡∏ö‡∏î", "‡∏ù‡∏≠‡∏¢‡∏ó‡∏≠‡∏á", "‡∏ñ‡∏±‡πà‡∏ß‡πÅ‡∏î‡∏á‡∏Å‡∏ß‡∏ô", "‡πÇ‡∏°‡∏à‡∏¥/‡∏î‡∏±‡∏á‡πÇ‡∏á‡∏∞", "‡πÑ‡∏Ç‡πà‡∏°‡∏∏‡∏Å‡∏ö‡∏∏‡∏Å", "‡∏ã‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏•/‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏•‡∏Å", "‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏°‡πÄ‡∏ö‡∏¥‡πâ‡∏•", "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ï‡∏≤‡∏•", "‡∏ã‡∏¥‡∏ô‡∏ô‡∏≤‡∏°‡∏≠‡∏ô (‡∏≠‡∏ö‡πÄ‡∏ä‡∏¢)", "‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏£‡∏±‡∏° (Rum)", "‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏î‡∏≠‡∏Å‡∏™‡πâ‡∏°", "‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏ó‡∏∞‡πÄ‡∏• (Sea Salt)", "‡∏á‡∏≤‡∏Ñ‡∏±‡πà‡∏ß", "‡πÄ‡∏°‡∏•‡πá‡∏î‡πÄ‡∏à‡∏µ‡∏¢", "‡∏û‡∏£‡∏¥‡∏Å‡πÑ‡∏ó‡∏¢‡∏ä‡∏°‡∏û‡∏π (Pink Peppercorn)", "‡∏ú‡∏¥‡∏ß‡∏™‡πâ‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°", "‡∏Ç‡∏¥‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°", "‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡πÄ‡∏õ‡∏•‡∏ß"
            ],

            visual: [ // ‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏™‡πÑ‡∏ï‡∏•‡πå
                "Pastel Wash (‡∏™‡∏µ‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏•)", "Neon Pop (‡∏™‡∏µ‡∏™‡∏±‡∏ô‡∏™‡∏î‡πÉ‡∏™)", "Earth Tone (‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•)", "Black & Gold (‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤)", "Geometric (‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï)", "Deconstructed (‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô)", "Layered (‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡πÜ)", "In a Jar (‡πÉ‡∏ô‡∏Ç‡∏ß‡∏î‡πÇ‡∏´‡∏•)", "Bento Style (‡πÉ‡∏™‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á)", "Nature Inspired (‡∏ò‡∏µ‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)", "Drip Effect (‡∏ã‡∏≠‡∏™‡πÑ‡∏´‡∏•)", "Glazed (‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡πÄ‡∏á‡∏≤)", "Rustic (‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏∏‡πà‡∏á)", "Floral (‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ)"
            ]
        };

        // UI Config
        const config = [
            { id: "country", label: "üó∫Ô∏è ‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à (Country)", data: data.country },
            { id: "base", label: "üç∞ ‡∏ê‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å (Base)", data: data.base },
            { id: "liquid", label: "ü•õ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ (Cream/Liquid)", data: data.liquid_fat },
            { id: "main", label: "üçì ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏û‡∏£‡∏∞‡πÄ‡∏≠‡∏Å (Main Flavor)", data: data.flavor_main },
            { id: "add", label: "‚ú® ‡∏•‡∏π‡∏Å‡πÄ‡∏•‡πà‡∏ô‡∏•‡∏±‡∏ö (Secret Twist)", data: data.add_in },
            { id: "visual", label: "üé® ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü (Style)", data: data.visual }
        ];

        let state = {};

        // 2. INITIALIZATION
        function init() {
            const container = document.getElementById('gridContainer');
            config.forEach(cfg => {
                state[cfg.id] = { locked: false, value: "..." };

                const card = document.createElement('div');
                card.className = "slot-card";
                card.id = `card-${cfg.id}`;
                card.innerHTML = `
                    <div class="header-row">
                        <span class="label">${cfg.label}</span>
                        <button class="lock-btn" id="lock-${cfg.id}" onclick="toggleLock('${cfg.id}')" title="‡∏•‡πá‡∏≠‡∏Å‡πÑ‡∏ß‡πâ">üîì</button>
                    </div>
                    <div class="display-value" id="disp-${cfg.id}">...</div>
                `;
                container.appendChild(card);
            });
        }

        function toggleLock(id) {
            state[id].locked = !state[id].locked;
            const btn = document.getElementById(`lock-${id}`);
            const card = document.getElementById(`card-${id}`);
            
            if (state[id].locked) {
                btn.innerText = "üîí";
                card.classList.add('locked');
            } else {
                btn.innerText = "üîì";
                card.classList.remove('locked');
            }
        }

        function unlockAll() {
            config.forEach(cfg => {
                state[cfg.id].locked = false;
                const btn = document.getElementById(`lock-${cfg.id}`);
                const card = document.getElementById(`card-${cfg.id}`);
                btn.innerText = "üîì";
                card.classList.remove('locked');
            });
        }

        // 3. SPIN LOGIC
        function spinAll() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = true;
            btn.innerHTML = "ü•£ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°...";
            
            // Hide Copy tools temporarily
            document.getElementById('btnCopy').style.display = 'none';
            document.getElementById('copyArea').style.display = 'none';
            document.getElementById('finalSentence').style.display = 'block';

            let activeSlots = config.filter(cfg => !state[cfg.id].locked);

            if (activeSlots.length === 0) {
                finalizeSpin();
                return;
            }

            config.forEach((cfg, index) => {
                if (state[cfg.id].locked) return;

                const display = document.getElementById(`disp-${cfg.id}`);
                const pool = cfg.data;
                let counter = 0;
                let speed = 50;
                let stopThreshold = 10 + (index * 3); // Cascade effect

                const interval = setInterval(() => {
                    display.innerText = pool[Math.floor(Math.random() * pool.length)];
                    counter++;

                    if (counter > stopThreshold) {
                        clearInterval(interval);
                        const finalVal = pool[Math.floor(Math.random() * pool.length)];
                        display.innerText = finalVal;
                        state[cfg.id].value = finalVal;
                    }
                }, speed);
            });

            setTimeout(() => finalizeSpin(), 50 * (10 + (config.length * 3)) + 300);
        }

        function finalizeSpin() {
            const btn = document.querySelector('.spin-btn');
            btn.disabled = false;
            btn.innerHTML = "ü™Ñ ‡πÄ‡∏™‡∏Å‡πÄ‡∏°‡∏ô‡∏π (Spin)";
            generateResult();
        }

        // 4. GENERATE SENTENCE & COPY TEXT
        function generateResult() {
            const v = {};
            config.forEach(cfg => v[cfg.id] = state[cfg.id].value === "..." ? "(‡∏™‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô)" : state[cfg.id].value);

            // HTML Display
            const html = `
                üßÅ <b>Concept:</b> ‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡∏™‡πÑ‡∏ï‡∏•‡πå <span class="highlight">${v.country}</span><br>
                ü•£ <b>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å:</b> ‡πÉ‡∏ä‡πâ <span class="highlight">${v.base}</span> ‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ö <span class="highlight">${v.liquid}</span><br>
                üçì <b>‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡πÄ‡∏î‡πà‡∏ô:</b> ‡∏ä‡∏π‡πÇ‡∏£‡∏á‡∏î‡πâ‡∏ß‡∏¢ <span class="highlight">${v.main}</span> ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏£‡∏™‡∏î‡πâ‡∏ß‡∏¢ <span class="highlight">${v.add}</span><br>
                üé® <b>‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤:</b> ‡∏à‡∏±‡∏î‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÅ‡∏ö‡∏ö <span class="highlight">${v.visual}</span>
            `;
            document.getElementById('finalSentence').innerHTML = html;

            // Copy Text (Plain Text)
            const copyText = `üç∞ ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏≥‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô "Sweet Dreams Challenge" ‚ú®\n\n` +
                `üó∫Ô∏è ‡∏™‡πÑ‡∏ï‡∏•‡πå: ${v.country}\n` +
                `ü•£ ‡∏ê‡∏≤‡∏ô: ${v.base}\n` +
                `ü•õ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™: ${v.liquid}\n` +
                `üçì ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å: ${v.main}\n` +
                `‚ú® ‡∏•‡∏π‡∏Å‡πÄ‡∏•‡πà‡∏ô‡∏•‡∏±‡∏ö: ${v.add}\n` +
                `üé® ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô: ${v.visual}\n\n` +
                `‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÇ‡∏õ‡∏£‡∏î‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£\n` +
                `#SweetDreamsCreator #CookingChallenge`;

            const copyArea = document.getElementById('copyArea');
            copyArea.value = copyText;
            copyArea.style.display = 'block';
            document.getElementById('btnCopy').style.display = 'flex';
        }

        function copyText() {
            const copyArea = document.getElementById("copyArea");
            copyArea.select();
            copyArea.setSelectionRange(0, 99999);
            
            navigator.clipboard.writeText(copyArea.value).then(() => {
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById("toast");
            toast.className = "show";
            setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // Run
        init();

    </script>
</body>
</html>
